# üîê –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω Hugging Face –Ω–∞ Cloudflare Pages

## üìã –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Cloudflare Pages Functions (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Cloudflare Pages Functions –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –≤ Environment Variables.

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ –ø—Ä–æ–µ–∫—Ç

–§—É–Ω–∫—Ü–∏—è —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ `public/_functions/config.js`. –û–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `config.js` –∏–∑ Environment Variables.

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ Environment Variables –≤ Cloudflare Pages

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Cloudflare Dashboard:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://dash.cloudflare.com/
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Workers & Pages** ‚Üí **Pages**
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `mysight`

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Settings**
   - –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Environment Variables**

4. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
   
   –ù–∞–∂–º–∏—Ç–µ **"Add variable"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:
   
   | Variable name | Value | Environment |
   |---------------|-------|-------------|
   | `HF_TOKEN` | `hf_–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å` | Production (–∏ Preview, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ) |
   | `GOOGLE_VISION_API_KEY` | `–≤–∞—à-–∫–ª—é—á-google-vision` | Production (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ:**
   - –ù–∞–∂–º–∏—Ç–µ **"Save"**
   - Cloudflare –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: https://mysight.pages.dev
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `config.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è: `http://mysight.pages.dev/config.js`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω: –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `window.HF_TOKEN`

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –§—É–Ω–∫—Ü–∏—è `public/_functions/config.js` —Å–æ–∑–¥–∞–µ—Ç endpoint `/config.js`
- –≠—Ç–æ—Ç endpoint —á–∏—Ç–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –∏–∑ Environment Variables Cloudflare
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JavaScript –∫–æ–¥ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- –ë—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ —Ç–æ–∫–µ–Ω—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `window.HF_TOKEN`

---

## üìã –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Cloudflare Workers (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ Functions –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cloudflare Workers –¥–ª—è –∏–Ω–∂–µ–∫—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞.

### –°–æ–∑–¥–∞–π—Ç–µ Worker

1. –í Cloudflare Dashboard ‚Üí **Workers & Pages** ‚Üí **Create** ‚Üí **Worker**
2. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ `mysight-config`
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–¥:

```javascript
export default {
  async fetch(request, env) {
    const url = new URL(request.url);
    
    // –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∫ config.js
    if (url.pathname === '/config.js') {
      const configContent = `
const CONFIG = {
  HF_TOKEN: '${env.HF_TOKEN || ''}',
  GOOGLE_VISION_API_KEY: '${env.GOOGLE_VISION_API_KEY || ''}'
};

if (CONFIG.HF_TOKEN) {
  window.HF_TOKEN = CONFIG.HF_TOKEN;
}
`;
      
      return new Response(configContent, {
        headers: { 'Content-Type': 'application/javascript' }
      });
    }
    
    // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ - –ø—Ä–æ–∫—Å–∏—Ä—É–µ–º –Ω–∞ Pages
    return fetch(request);
  }
};
```

4. –î–æ–±–∞–≤—å—Ç–µ Environment Variables –≤ Worker:
   - `HF_TOKEN`: –≤–∞—à —Ç–æ–∫–µ–Ω
   - `GOOGLE_VISION_API_KEY`: –≤–∞—à –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Route:
   - –í Worker ‚Üí **Triggers** ‚Üí **Routes**
   - –î–æ–±–∞–≤—å—Ç–µ: `mysight.pages.dev/config.js`

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ:

- Environment Variables –≤ Cloudflare —à–∏—Ñ—Ä—É—é—Ç—Å—è
- –¢–æ–∫–µ–Ω—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Git
- –¢–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Functions/Workers

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:

- –¢–æ–∫–µ–Ω—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–∏–¥–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º `config.js`)
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–∫—Å–∏

---

## üß™ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `public/config.js`:

```javascript
const CONFIG = {
    HF_TOKEN: 'hf_–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å',
    GOOGLE_VISION_API_KEY: ''
};

if (CONFIG.HF_TOKEN) {
    window.HF_TOKEN = CONFIG.HF_TOKEN;
}
```

**–í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç —Ñ–∞–π–ª —É–∂–µ –≤ `.gitignore`, –æ–Ω –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

---

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É config.js:**
   ```bash
   curl https://mysight.pages.dev/config.js
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JavaScript –∫–æ–¥ —Å —Ç–æ–∫–µ–Ω–æ–º.

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç
   - F12 ‚Üí Console
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `console.log(window.HF_TOKEN)`
   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–∫–µ–Ω

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É API:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
   - –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –æ—Ç Hugging Face

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: config.js –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `public/_functions/config.js` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–∑–∞–¥–µ–ø–ª–æ–∏–ª—Å—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Build output directory: `public`

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–∫–µ–Ω –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Environment Variables –≤ Cloudflare Dashboard
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `HF_TOKEN` (—Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Environment (Production)

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∞–π—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Cloudflare Pages
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ `file://` –ø—Ä–æ—Ç–æ–∫–æ–ª
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω (pages.dev)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Cloudflare Pages Functions](https://developers.cloudflare.com/pages/platform/functions/)
- [Environment Variables –≤ Cloudflare Pages](https://developers.cloudflare.com/pages/platform/build-configuration/#environment-variables)
- [Hugging Face Tokens](https://huggingface.co/settings/tokens)

